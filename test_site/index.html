<!DOCTYPE html>
<html>
    <head>
        <script>
            async function getPosts() {
                const posts = await (await fetch(window.location.href + "posts")).json()
                console.log(posts);

                const body = document.body;
                const table = document.createElement("table");
                table.style.width = "100px";
                table.style.border = "1px solid black";

                for (let i = 0; i < posts.length; i++) {
                    const tr = table.insertRow();
                    for (let j = 0; j < 2; j++) {
                        const td = tr.insertCell();
                        td.appendChild(document.createTextNode(j === 0 ? posts[i].author : posts[i].text));
                        td.style.border = "1px solid black";
                    }
                };
                body.appendChild(table);
            }
        </script>
    </head>
    <button type="button" onclick="getPosts()">Get posts</button>
</html>